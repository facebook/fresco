<!DOCTYPE html>

















































<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <meta name="description" content="Javadoc API documentation for Fresco." />

<link rel="shortcut icon" type="image/x-icon" href="../../../../favicon.ico" />
<title>

  SharedReference - Fresco API


| Fresco

</title>
<link href="../../../../../assets/doclava-developer-docs.css" rel="stylesheet" type="text/css" />
<link href="../../../../../assets/customizations.css" rel="stylesheet" type="text/css" />
<script src="../../../../../assets/search_autocomplete.js" type="text/javascript"></script>
<script src="../../../../../assets/jquery-resizable.min.js" type="text/javascript"></script>
<script src="../../../../../assets/doclava-developer-docs.js" type="text/javascript"></script>
<script src="../../../../../assets/prettify.js" type="text/javascript"></script>
<script type="text/javascript">
  setToRoot("../../../../", "../../../../../assets/");
</script>
<script src="../../../../../assets/doclava-developer-reference.js" type="text/javascript"></script>
<script src="../../../../../assets/navtree_data.js" type="text/javascript"></script>
<script src="../../../../../assets/customizations.js" type="text/javascript"></script>
<noscript>
  <style type="text/css">
    html,body{overflow:auto;}
    #body-content{position:relative; top:0;}
    #doc-content{overflow:visible;border-left:3px solid #666;}
    #side-nav{padding:0;}
    #side-nav .toggle-list ul {display:block;}
    #resize-packages-nav{border-bottom:3px solid #666;}
  </style>
</noscript>
</head>

<body class="">

<div id="header">
    <div id="headerLeft">
    
      <span id="masthead-title"><a href="../../../../packages.html">Fresco</a></span>
    
    </div>
    <div id="headerRight">
      
  <div id="search" >
      <div id="searchForm">
          <form accept-charset="utf-8" class="gsc-search-box" 
                onsubmit="return submit_search()">
            <table class="gsc-search-box" cellpadding="0" cellspacing="0"><tbody>
                <tr>
                  <td class="gsc-input">
                    <input id="search_autocomplete" class="gsc-input" type="text" size="33" autocomplete="off"
                      title="search developer docs" name="q"
                      value="search developer docs"
                      onFocus="search_focus_changed(this, true)"
                      onBlur="search_focus_changed(this, false)"
                      onkeydown="return search_changed(event, true, '../../../../')"
                      onkeyup="return search_changed(event, false, '../../../../')" />
                  <div id="search_filtered_div" class="no-display">
                      <table id="search_filtered" cellspacing=0>
                      </table>
                  </div>
                  </td>
                  <!-- <td class="gsc-search-button">
                    <input type="submit" value="Search" title="search" id="search-button" class="gsc-search-button" />
                  </td>
                  <td class="gsc-clear-button">
                    <div title="clear results" class="gsc-clear-button">&nbsp;</div>
                  </td> -->
                </tr></tbody>
              </table>
          </form>
      </div><!-- searchForm -->
  </div><!-- search -->
      
    </div>
</div><!-- header -->


  <div class="g-section g-tpl-240" id="body-content">
    <div class="g-unit g-first side-nav-resizable" id="side-nav">
      <div id="swapper">
        <div id="nav-panels">
          <div id="resize-packages-nav">
            <div id="packages-nav">
              <div id="index-links">
                <a href="../../../../packages.html"  >Packages</a> | 
                <a href="../../../../classes.html" >Classes</a>
              </div>
              <ul>
                
    <li class="api apilevel-">
  <a href="../../../../com/facebook/animated/gif/package-summary.html">com.facebook.animated.gif</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/animated/giflite/package-summary.html">com.facebook.animated.giflite</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/animated/giflite/decoder/package-summary.html">com.facebook.animated.giflite.decoder</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/animated/giflite/draw/package-summary.html">com.facebook.animated.giflite.draw</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/animated/giflite/drawable/package-summary.html">com.facebook.animated.giflite.drawable</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/animated/webp/package-summary.html">com.facebook.animated.webp</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/animated/webpdrawable/package-summary.html">com.facebook.animated.webpdrawable</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/binaryresource/package-summary.html">com.facebook.binaryresource</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/cache/common/package-summary.html">com.facebook.cache.common</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/cache/disk/package-summary.html">com.facebook.cache.disk</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/callercontext/package-summary.html">com.facebook.callercontext</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/activitylistener/package-summary.html">com.facebook.common.activitylistener</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/disk/package-summary.html">com.facebook.common.disk</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/executors/package-summary.html">com.facebook.common.executors</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/file/package-summary.html">com.facebook.common.file</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/internal/package-summary.html">com.facebook.common.internal</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/lifecycle/package-summary.html">com.facebook.common.lifecycle</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/logging/package-summary.html">com.facebook.common.logging</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/media/package-summary.html">com.facebook.common.media</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/memory/package-summary.html">com.facebook.common.memory</a></li>
    <li class="selected api apilevel-">
  <a href="../../../../com/facebook/common/references/package-summary.html">com.facebook.common.references</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/statfs/package-summary.html">com.facebook.common.statfs</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/streams/package-summary.html">com.facebook.common.streams</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/time/package-summary.html">com.facebook.common.time</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/util/package-summary.html">com.facebook.common.util</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/common/webp/package-summary.html">com.facebook.common.webp</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/datasource/package-summary.html">com.facebook.datasource</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawable/base/package-summary.html">com.facebook.drawable.base</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/backends/pipeline/package-summary.html">com.facebook.drawee.backends.pipeline</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/backends/pipeline/debug/package-summary.html">com.facebook.drawee.backends.pipeline.debug</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/backends/pipeline/info/package-summary.html">com.facebook.drawee.backends.pipeline.info</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/backends/pipeline/info/internal/package-summary.html">com.facebook.drawee.backends.pipeline.info.internal</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/components/package-summary.html">com.facebook.drawee.components</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/controller/package-summary.html">com.facebook.drawee.controller</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/debug/package-summary.html">com.facebook.drawee.debug</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/debug/listener/package-summary.html">com.facebook.drawee.debug.listener</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/drawable/package-summary.html">com.facebook.drawee.drawable</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/generic/package-summary.html">com.facebook.drawee.generic</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/gestures/package-summary.html">com.facebook.drawee.gestures</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/interfaces/package-summary.html">com.facebook.drawee.interfaces</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/span/package-summary.html">com.facebook.drawee.span</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/drawee/view/package-summary.html">com.facebook.drawee.view</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/fresco/animation/backend/package-summary.html">com.facebook.fresco.animation.backend</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/fresco/animation/bitmap/package-summary.html">com.facebook.fresco.animation.bitmap</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/fresco/animation/bitmap/cache/package-summary.html">com.facebook.fresco.animation.bitmap.cache</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/fresco/animation/bitmap/preparation/package-summary.html">com.facebook.fresco.animation.bitmap.preparation</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/fresco/animation/bitmap/wrapper/package-summary.html">com.facebook.fresco.animation.bitmap.wrapper</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/fresco/animation/drawable/package-summary.html">com.facebook.fresco.animation.drawable</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/fresco/animation/drawable/animator/package-summary.html">com.facebook.fresco.animation.drawable.animator</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/fresco/animation/factory/package-summary.html">com.facebook.fresco.animation.factory</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/fresco/animation/frame/package-summary.html">com.facebook.fresco.animation.frame</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/fresco/middleware/package-summary.html">com.facebook.fresco.middleware</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/fresco/ui/common/package-summary.html">com.facebook.fresco.ui.common</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imageformat/package-summary.html">com.facebook.imageformat</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/animated/base/package-summary.html">com.facebook.imagepipeline.animated.base</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/animated/factory/package-summary.html">com.facebook.imagepipeline.animated.factory</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/animated/impl/package-summary.html">com.facebook.imagepipeline.animated.impl</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/animated/util/package-summary.html">com.facebook.imagepipeline.animated.util</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/backends/okhttp3/package-summary.html">com.facebook.imagepipeline.backends.okhttp3</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/backends/volley/package-summary.html">com.facebook.imagepipeline.backends.volley</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/bitmaps/package-summary.html">com.facebook.imagepipeline.bitmaps</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/cache/package-summary.html">com.facebook.imagepipeline.cache</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/common/package-summary.html">com.facebook.imagepipeline.common</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/core/package-summary.html">com.facebook.imagepipeline.core</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/datasource/package-summary.html">com.facebook.imagepipeline.datasource</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/debug/package-summary.html">com.facebook.imagepipeline.debug</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/decoder/package-summary.html">com.facebook.imagepipeline.decoder</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/drawable/package-summary.html">com.facebook.imagepipeline.drawable</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/filter/package-summary.html">com.facebook.imagepipeline.filter</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/image/package-summary.html">com.facebook.imagepipeline.image</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/instrumentation/package-summary.html">com.facebook.imagepipeline.instrumentation</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/listener/package-summary.html">com.facebook.imagepipeline.listener</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/memory/package-summary.html">com.facebook.imagepipeline.memory</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/multiuri/package-summary.html">com.facebook.imagepipeline.multiuri</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/nativecode/package-summary.html">com.facebook.imagepipeline.nativecode</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/platform/package-summary.html">com.facebook.imagepipeline.platform</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/postprocessors/package-summary.html">com.facebook.imagepipeline.postprocessors</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/producers/package-summary.html">com.facebook.imagepipeline.producers</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/request/package-summary.html">com.facebook.imagepipeline.request</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/systrace/package-summary.html">com.facebook.imagepipeline.systrace</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/transcoder/package-summary.html">com.facebook.imagepipeline.transcoder</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imagepipeline/transformation/package-summary.html">com.facebook.imagepipeline.transformation</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/imageutils/package-summary.html">com.facebook.imageutils</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/webpsupport/package-summary.html">com.facebook.webpsupport</a></li>
    <li class="api apilevel-">
  <a href="../../../../com/facebook/widget/text/span/package-summary.html">com.facebook.widget.text.span</a></li>
              </ul><br/>
            </div> <!-- end packages -->
          </div> <!-- end resize-packages -->
          <div id="classes-nav">
            <ul>
              
    <li><h2>Interfaces</h2>
      <ul>
          <li class="api apilevel-"><a href="../../../../com/facebook/common/references/CloseableReference.LeakHandler.html">CloseableReference.LeakHandler</a></li>
          <li class="api apilevel-"><a href="../../../../com/facebook/common/references/HasBitmap.html">HasBitmap</a></li>
          <li class="api apilevel-"><a href="../../../../com/facebook/common/references/ResourceReleaser.html">ResourceReleaser</a>&lt;T&gt;</li>
      </ul>
    </li>
              
    <li><h2>Classes</h2>
      <ul>
          <li class="api apilevel-"><a href="../../../../com/facebook/common/references/CloseableReference.html">CloseableReference</a>&lt;T&gt;</li>
          <li class="api apilevel-"><a href="../../../../com/facebook/common/references/DefaultCloseableReference.html">DefaultCloseableReference</a>&lt;T&gt;</li>
          <li class="api apilevel-"><a href="../../../../com/facebook/common/references/FinalizerCloseableReference.html">FinalizerCloseableReference</a>&lt;T&gt;</li>
          <li class="api apilevel-"><a href="../../../../com/facebook/common/references/NoOpCloseableReference.html">NoOpCloseableReference</a>&lt;T&gt;</li>
          <li class="api apilevel-"><a href="../../../../com/facebook/common/references/OOMSoftReference.html">OOMSoftReference</a>&lt;T&gt;</li>
          <li class="api apilevel-"><a href="../../../../com/facebook/common/references/RefCountCloseableReference.html">RefCountCloseableReference</a>&lt;T&gt;</li>
          <li class="selected api apilevel-"><a href="../../../../com/facebook/common/references/SharedReference.html">SharedReference</a>&lt;T&gt;</li>
      </ul>
    </li>
              
    <li><h2>Annotations</h2>
      <ul>
          <li class="api apilevel-"><a href="../../../../com/facebook/common/references/CloseableReference.CloseableRefType.html">CloseableReference.CloseableRefType</a></li>
      </ul>
    </li>
              
              
    <li><h2>Exceptions</h2>
      <ul>
          <li class="api apilevel-"><a href="../../../../com/facebook/common/references/SharedReference.NullReferenceException.html">SharedReference.NullReferenceException</a></li>
      </ul>
    </li>
              
            </ul><br/>
          </div><!-- end classes -->
        </div><!-- end nav-panels -->
        <div id="nav-tree" style="display:none">
          <div id="index-links">
            <a href="../../../../packages.html"  >Packages</a> | 
            <a href="../../../../classes.html" >Classes</a>
          </div>
        </div><!-- end nav-tree -->
      </div><!-- end swapper -->
    </div> <!-- end side-nav -->
    <script>
      if (!isMobile) {
        //$("<a href='#' id='nav-swap' onclick='swapNav();return false;' style='font-size:10px;line-height:9px;margin-left:1em;text-decoration:none;'><span id='tree-link'>Use Tree Navigation</span><span id='panel-link' style='display:none'>Use Panel Navigation</span></a>").appendTo("#side-nav");
        chooseDefaultNav();
        if ($("#nav-tree").is(':visible')) {
          init_default_navtree("../../../../");
        } else {
          addLoadEvent(function() {
            scrollIntoView("packages-nav");
            scrollIntoView("classes-nav");
          });
        }
        //$("#swapper").css({borderBottom:"2px solid #aaa"});
      } else {
        swapNav(); // tree view should be used on mobile
      }
    </script>



<div class="g-unit" id="doc-content">

<div id="api-info-block">



  
   
  
  
  
  


<div class="sum-details-links">


Summary:

  <a href="#nestedclasses">Nested Classes</a>
  









  &#124; <a href="#pubctors">Ctors</a>
  



  &#124; <a href="#pubmethods">Methods</a>
  



  &#124; <a href="#inhmethods">Inherited Methods</a>

&#124; <a href="#" onclick="return toggleAllClassInherited()" id="toggleAllClassInherited">[Expand All]</a>

</div><!-- end sum-details-links -->
<div class="api-level">
  


  
  

</div>
</div><!-- end api-info-block -->


<!-- ======== START OF CLASS DATA ======== -->

<div id="jd-header">
    public
     
     
    
    class
<h1>SharedReference</h1>



  
    extends Object<br/>
  
  
  

  
  
  


</div><!-- end header -->

<div id="naMessage"></div>

<div id="jd-content" class="api apilevel-">
<table class="jd-inheritance-table">


    <tr>
         	
        <td colspan="2" class="jd-inheritance-class-cell">java.lang.Object</td>
    </tr>
    

    <tr>
        
            <td class="jd-inheritance-space">&nbsp;&nbsp;&nbsp;&#x21b3;</td>
         	
        <td colspan="1" class="jd-inheritance-class-cell">com.facebook.common.references.SharedReference&lt;T&gt;</td>
    </tr>
    

</table>







<div class="jd-descr">


<h2>Class Overview</h2>
<p>A shared-reference class somewhat similar to c++ shared_ptr. The underlying value is reference
 counted, and when the count drops to zero, the underlying value is "disposed"

 <p>Unlike the c++ implementation, which provides for a bunch of syntactic sugar with copy
 constructors and destructors, Java does not provide the equivalents. So we instead have the
 explicit addReference() and deleteReference() calls, and we need to be extremely careful about
 using these in the presence of exceptions, or even otherwise.

 <p>Despite the extra (and clunky) method calls, this is still worthwhile in many cases to avoid
 the overhead of garbage collection.

 <p>The somewhat clunky rules are 1. If a function returns a SharedReference, it must guarantee
 that the reference count is at least 1. In the case where a SharedReference is being constructed
 and returned, the SharedReference constructor will already set the ref count to 1. 2. If a
 function calls another function with a shared-reference parameter, 2.1 The caller must ensure
 that the reference is valid for the duration of the invocation. 2.2 The callee *is not*
 responsible for the cleanup of the reference. 2.3 If the callee wants to keep the reference
 around even after the call returns (for example, stashing it away in a map), then it should
 "clone" the reference by invoking <code><a href="../../../../com/facebook/common/references/SharedReference.html#addReference()">addReference()</a></code>

 <p>Example #1 (function with a shared reference parameter): void foo(SharedReference r, ...) { //
 first assert that the reference is valid Preconditions.checkArgument(SharedReference.isValid(r));
 ... // do something with the contents of r ... // do not increment/decrement the ref count }

 <p>Example #2 (function with a shared reference parameter that keeps around the shared ref) void
 foo(SharedReference r, ...) { // first assert that the reference is valid
 Preconditions.checkArgument(SharedReference.isValid(r)); ... // increment ref count
 r.addReference(); // stash away the reference ... return; }

 <p>Example #3 (function with a shared reference parameter that passes along the reference to
 another function) void foo(SharedReference r, ...) { // first assert that the reference is valid
 Preconditions.checkArgument(SharedReference.isValid(r)); ... bar(r, ...); // call to other
 function ... }

 <p>Example #4 (function that returns a shared reference) SharedReference foo(...) { // do
 something ... // create a new shared reference (refcount automatically at 1) SharedReference r =
 new SharedReference(x); // return this shared reference return r; }

 <p>Example #5 (function with a shared reference parameter that returns the shared reference) void
 foo(SharedReference r, ...) { // first assert that the reference is valid
 Preconditions.checkArgument(SharedReference.isValid(r)); ... // increment ref count before
 returning r.addReference(); return r; }
</p>





</div><!-- jd-descr -->
















<div class="jd-descr">


<h2>Summary</h2>



<!-- ======== NESTED CLASS SUMMARY ======== -->
<table id="nestedclasses" class="jd-sumtable"><tr><th colspan="12">Nested Classes</th></tr>


  
    <tr class="alt-color api apilevel-" >
      <td class="jd-typecol">
        
         
         
        
        class</td>
      <td class="jd-linkcol"><a href="../../../../com/facebook/common/references/SharedReference.NullReferenceException.html">SharedReference.NullReferenceException</a></td>
      <td class="jd-descrcol" width="100%">The moral equivalent of NullPointerException for SharedReference.&nbsp;</td>
    </tr>
    
    

</table>






















<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<table id="pubctors" class="jd-sumtable"><tr><th colspan="12">Public Constructors</th></tr>



	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol">
            
            
            
            
            
            
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad"><a href="../../../../com/facebook/common/references/SharedReference.html#SharedReference(T, com.facebook.common.references.ResourceReleaser<T>)">SharedReference</a></span>(T value, <a href="../../../../com/facebook/common/references/ResourceReleaser.html">ResourceReleaser</a>&lt;T&gt; resourceReleaser)
        
        <div class="jd-descrdiv">Construct a new shared-reference that will 'own' the supplied <code>value</code>.</div>
  
  </td></tr>



</table>






<!-- ========== METHOD SUMMARY =========== -->
<table id="pubmethods" class="jd-sumtable"><tr><th colspan="12">Public Methods</th></tr>



	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol">
            
            synchronized
            
            
            
            void
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad"><a href="../../../../com/facebook/common/references/SharedReference.html#addReference()">addReference</a></span>()
        
        <div class="jd-descrdiv">Bump up the reference count for the shared reference Note: The reference must be valid (aka not
 null) at this point
</div>
  
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol">
            
            synchronized
            
            
            
            boolean
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad"><a href="../../../../com/facebook/common/references/SharedReference.html#addReferenceIfValid()">addReferenceIfValid</a></span>()
        
        <div class="jd-descrdiv">Bump up the reference count for the shared reference if the shared-reference is valid.</div>
  
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol">
            
            
            
            
            
            void
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad"><a href="../../../../com/facebook/common/references/SharedReference.html#deleteReference()">deleteReference</a></span>()
        
        <div class="jd-descrdiv">Decrement the reference count for the shared reference.</div>
  
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol">
            
            synchronized
            
            
            
            boolean
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad"><a href="../../../../com/facebook/common/references/SharedReference.html#deleteReferenceIfValid()">deleteReferenceIfValid</a></span>()
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol">
            
            synchronized
            
            
            
            T
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad"><a href="../../../../com/facebook/common/references/SharedReference.html#get()">get</a></span>()
        
        <div class="jd-descrdiv">Get the current referenced value.</div>
  
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol">
            
            synchronized
            
            
            
            int
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad"><a href="../../../../com/facebook/common/references/SharedReference.html#getRefCountTestOnly()">getRefCountTestOnly</a></span>()
        
        <div class="jd-descrdiv">A test-only method to get the ref count DO NOT USE in regular code </div>
  
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol">
            
            
            
            static
            
            boolean
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad"><a href="../../../../com/facebook/common/references/SharedReference.html#isValid(com.facebook.common.references.SharedReference<?>)">isValid</a></span>(<a href="../../../../com/facebook/common/references/SharedReference.html">SharedReference</a>&lt;?&gt; ref)
        
        <div class="jd-descrdiv">Checks if the shared-reference is valid i.e.</div>
  
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol">
            
            synchronized
            
            
            
            boolean
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad"><a href="../../../../com/facebook/common/references/SharedReference.html#isValid()">isValid</a></span>()
        
        <div class="jd-descrdiv">Checks if this shared-reference is valid i.e.</div>
  
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol">
            
            
            
            static
            
            String
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad"><a href="../../../../com/facebook/common/references/SharedReference.html#reportData()">reportData</a></span>()
        
  </td></tr>



</table>







<!-- ========== METHOD SUMMARY =========== -->
<table id="inhmethods" class="jd-sumtable"><tr><th>
  <a href="#" class="toggle-all" onclick="return toggleAllInherited(this, null)">[Expand]</a>
  <div style="clear:left;">Inherited Methods</div></th></tr>


<tr class="api apilevel-" >
<td colspan="12">
  <a href="#" onclick="return toggleInherited(this, null)" id="inherited-methods-java.lang.Object" class="jd-expando-trigger closed"
          ><img id="inherited-methods-java.lang.Object-trigger"
          src="../../../../../assets/images/triangle-closed.png"
          class="jd-expando-trigger-img" /></a>
From class

  java.lang.Object

<div id="inherited-methods-java.lang.Object">
  <div id="inherited-methods-java.lang.Object-list"
        class="jd-inheritedlinks">
  </div>
  <div id="inherited-methods-java.lang.Object-summary" style="display: none;">
    <table class="jd-sumtable-expando">
    


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol">
            
            
            
            
            
            Object
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad">clone</span>()
        
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol">
            
            
            
            
            
            boolean
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad">equals</span>(Object arg0)
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol">
            
            
            
            
            
            void
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad">finalize</span>()
        
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol">
            
            
            final
            
            
            Class&lt;?&gt;
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad">getClass</span>()
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol">
            
            
            
            
            
            int
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad">hashCode</span>()
        
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol">
            
            
            final
            
            
            void
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad">notify</span>()
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol">
            
            
            final
            
            
            void
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad">notifyAll</span>()
        
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol">
            
            
            
            
            
            String
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad">toString</span>()
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol">
            
            
            final
            
            
            void
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad">wait</span>(long arg0, int arg1)
        
  </td></tr>


	 
    <tr class=" api apilevel-" >
        <td class="jd-typecol">
            
            
            final
            
            
            void
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad">wait</span>(long arg0)
        
  </td></tr>


	 
    <tr class="alt-color api apilevel-" >
        <td class="jd-typecol">
            
            
            final
            
            
            void
        </td>
        <td class="jd-linkcol" width="100%">
        <span class="sympad">wait</span>()
        
  </td></tr>


</table>
  </div>
</div>
</td></tr>


</table>


</div><!-- jd-descr (summary) -->

<!-- Details -->








<!-- XML Attributes -->


<!-- Enum Values -->


<!-- Constants -->


<!-- Fields -->


<!-- Public ctors -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->
<h2>Public Constructors</h2>



<a id="SharedReference(T, com.facebook.common.references.ResourceReleaser<T>)"></a>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
         
        
      </span>
      <span class="sympad">SharedReference</span>
      <span class="normal">(T value, <a href="../../../../com/facebook/common/references/ResourceReleaser.html">ResourceReleaser</a>&lt;T&gt; resourceReleaser)</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Construct a new shared-reference that will 'own' the supplied <code>value</code>. The reference
 count will be set to 1. When the reference count decreases to zero <code>resourceReleaser</code>
 will be used to release the <code>value</code></p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Parameters</h5>
      <table class="jd-tagtable">
        <tr>
          <th>value</th>
          <td>non-null value to manage</td>
        </tr>
        <tr>
          <th>resourceReleaser</th>
          <td>non-null ResourceReleaser for the value
</td>
        </tr>
      </table>
  </div>

    </div>
</div>





<!-- ========= CONSTRUCTOR DETAIL ======== -->
<!-- Protected ctors -->



<!-- ========= METHOD DETAIL ======== -->
<!-- Public methdos -->

<h2>Public Methods</h2>



<a id="addReference()"></a>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
        synchronized 
        void
      </span>
      <span class="sympad">addReference</span>
      <span class="normal">()</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Bump up the reference count for the shared reference Note: The reference must be valid (aka not
 null) at this point
</p></div>

    </div>
</div>


<a id="addReferenceIfValid()"></a>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
        synchronized 
        boolean
      </span>
      <span class="sympad">addReferenceIfValid</span>
      <span class="normal">()</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Bump up the reference count for the shared reference if the shared-reference is valid. </p></div>

    </div>
</div>


<a id="deleteReference()"></a>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
         
        void
      </span>
      <span class="sympad">deleteReference</span>
      <span class="normal">()</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Decrement the reference count for the shared reference. If the reference count drops to zero,
 then dispose of the referenced value
</p></div>

    </div>
</div>


<a id="deleteReferenceIfValid()"></a>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
        synchronized 
        boolean
      </span>
      <span class="sympad">deleteReferenceIfValid</span>
      <span class="normal">()</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p></p></div>

    </div>
</div>


<a id="get()"></a>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
        synchronized 
        T
      </span>
      <span class="sympad">get</span>
      <span class="normal">()</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Get the current referenced value. Null if there's no value.</p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Returns</h5>
      <ul class="nolist"><li>the referenced value
</li></ul>
  </div>

    </div>
</div>


<a id="getRefCountTestOnly()"></a>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
        synchronized 
        int
      </span>
      <span class="sympad">getRefCountTestOnly</span>
      <span class="normal">()</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>A test-only method to get the ref count DO NOT USE in regular code </p></div>

    </div>
</div>


<a id="isValid(com.facebook.common.references.SharedReference<?>)"></a>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
        static 
         
         
         
        boolean
      </span>
      <span class="sympad">isValid</span>
      <span class="normal">(<a href="../../../../com/facebook/common/references/SharedReference.html">SharedReference</a>&lt;?&gt; ref)</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Checks if the shared-reference is valid i.e. its reference count is greater than zero</p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Returns</h5>
      <ul class="nolist"><li>true if the shared reference is valid
</li></ul>
  </div>

    </div>
</div>


<a id="isValid()"></a>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
         
         
         
        synchronized 
        boolean
      </span>
      <span class="sympad">isValid</span>
      <span class="normal">()</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p>Checks if this shared-reference is valid i.e. its reference count is greater than zero.</p></div>
  <div class="jd-tagdata">
      <h5 class="jd-tagtitle">Returns</h5>
      <ul class="nolist"><li>true if shared reference is valid
</li></ul>
  </div>

    </div>
</div>


<a id="reportData()"></a>

<div class="jd-details api apilevel-"> 
    <h4 class="jd-details-title">
      <span class="normal">
        public 
        static 
         
         
         
        String
      </span>
      <span class="sympad">reportData</span>
      <span class="normal">()</span>
    </h4>
      <div class="api-level">
        <div>

</div>
        
  

      </div>
    <div class="jd-details-descr">
      
  <div class="jd-tagdata jd-tagdescr"><p></p></div>

    </div>
</div>





<!-- ========= METHOD DETAIL ======== -->



<!-- ========= END OF CLASS DATA ========= -->
<a id="navbar_top"></a>

<div id="footer">
 +Generated by <a href="http://code.google.com/p/doclava/">Doclava</a>.
 +</div> <!-- end footer - @generated -->

</div> <!-- jd-content -->

</div><!-- end doc-content -->

</div> <!-- end body-content --> 

<script type="text/javascript">
init(); /* initialize doclava-developer-docs.js */
</script>

</body>
</html>
